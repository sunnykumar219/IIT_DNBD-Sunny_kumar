<!DOCTYPE html>
<html>
<head>
  <title>Sunny Voice Bot</title>
</head>
<body style="text-align:center;margin-top:100px;font-family:sans-serif">
  <h2>Talk to Sunny ðŸŽ¤</h2>
  <button onclick="startListening()" style="font-size:20px">Ask Question</button>
  <p id="status"></p>

<script>
const API_KEY = "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";

const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
recognition.lang = "en-IN";

function startListening(){
  recognition.start();
  document.getElementById("status").innerText = "Listening...";
}

recognition.onresult = async function(event){
  const question = event.results[0][0].transcript;
  document.getElementById("status").innerText = "You: " + question;

  const response = await fetch("https://api.openai.com/v1/chat/completions", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "Authorization": "Bearer " + API_KEY
    },
    body: JSON.stringify({
      model: "gpt-4o-mini",
      messages: [
        {
          role: "system",
          content: "You are Sunny Kumar, IIT ISM Dhanbad student. Answer personally in 5-6 sentences."
        },
        { role: "user", content: question }
      ]
    })
  });

  const data = await response.json();
  const answer = data.choices[0].message.content;

  const utter = new SpeechSynthesisUtterance(answer);
  speechSynthesis.speak(utter);
};
</script>
</body>
</html>
